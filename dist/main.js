(()=>{"use strict";var e={d:(t,o)=>{for(var d in o)e.o(o,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:o[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{IK:()=>o,Hv:()=>d});class o{static projects=[];constructor(e,t){this.name=e,this.projectIndex=t,this.todos=[]}todoDateEditor(e,t){this.todos[e].dueDate=t}todoDeleter(e){this.todos.splice(e,1)}static addNewTodo(e,t,o="No due date."){const d={title:e,projectIndex:t,completed:!1,dueDate:o};this.projects[t].todos.push(d)}}function d(e,t){o.projects.push(new o(e,t))}function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function n(e,t,o,d){const r=document.createElement(e);return""!=t&&("object"==typeof t?t.forEach((e=>{r.classList.add(e)})):r.classList.add(t)),""!=o&&(r.value=o,r.textContent=o),""!=d&&(r.dataset.element=d),r}function c(e,o="No due date"){let d=n("div","todoCard","",""),r=n("div","completeButton","","");r.addEventListener("click",(()=>{d.classList.add("complete")}));let c=n("h2","",e,""),a=n("div","dateHolder","",""),s=n("h3","",o,"");a.append(s);let i=n("input","","","");return i.setAttribute("type","date"),i.value=o,i.addEventListener("blur",(e=>{const o=e.target.parentNode.parentNode.dataset.projectID,d=e.target.parentNode.parentNode.dataset.todoID;let r=i.value;t.Projects.projects[o].todoDateEditor(d,r),""!=r&&(s.textContent=`Due ${r}`),a.removeChild(a.firstChild),a.append(s)})),s.addEventListener("click",(()=>{a.removeChild(a.firstChild),a.append(i),i.focus()})),d.append(r,c,a),d}document.querySelector(".todoContainer");const a=document.querySelector(".projectList"),s=document.querySelector(".todoContainer");function i(){!function(){r(a);for(let e=0;e<o.projects.length;e++){let t=n("div","projectCard",o.projects[e].name,"");t.dataset.projectID=e,a.append(t)}}()}const l=document.querySelector(".newProjectButton"),p=document.querySelector(".newProjectInput"),u=document.querySelector(".projectList");l.addEventListener("click",(e=>{e.preventDefault(),""!=p.value&&(r(u),d(p.value),i(),p.value="")})),d("test project",0),o.addNewTodo("Test todo",0),o.addNewTodo("another test todo",0),d("second test project",1),o.addNewTodo("second test todo",1),o.addNewTodo("Yet another thing to do",1),console.log(o.projects),function(e){r(s);for(let e=0;e<o.projects[0].todos.length;e++){let t=c(o.projects[0].todos[e].title,o.projects[0].todos.dueDate);t.dataset.projectID=0,t.dataset.todoID=e,s.append(t)}}(),i()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBYSxHQUNiLElBQUssSUFBSW9DLEVBQUksRUFBR0EsRUFBSXhELEVBQVFpQixTQ1VoQixHRFY2Q1gsTUFBTW1ELE9BQVFELElBQUssQ0FDeEUsSUFBSVcsRUFBY2hDLEVBQWdCbkMsRUFBUWlCLFNDU2xDLEdEVCtEWCxNQUFNa0QsR0FBRzFDLE1BQU9kLEVBQVFpQixTQ1N2RixHRFRvSFgsTUFBTUksU0FDbEl5RCxFQUFZakMsUUFBUVksVUNRWixFRFBScUIsRUFBWWpDLFFBQVFlLE9BQVNPLEVBQzdCLEVBQWNkLE9BQU95QixFQUN6QixDQUNKLENDSUFDLEdBQ0FiLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2RvbUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3BhZ2VMb2FkZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGNsYXNzIFByb2plY3Qge1xuICAgIHN0YXRpYyBwcm9qZWN0cyA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb2plY3RJbmRleCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb2plY3RJbmRleCA9IHByb2plY3RJbmRleDtcbiAgICAgICAgdGhpcy50b2RvcyA9IFtdO1xuICAgIH1cbiAgICB0b2RvRGF0ZUVkaXRvcih0b2RvSW5kZXgsIG5ld0RhdGUpIHtcbiAgICAgICAgdGhpcy50b2Rvc1t0b2RvSW5kZXhdLmR1ZURhdGUgPSBuZXdEYXRlO1xuICAgIH1cbiAgICB0b2RvRGVsZXRlcih0b2RvSW5kZXgpIHtcbiAgICAgICAgdGhpcy50b2Rvcy5zcGxpY2UodG9kb0luZGV4LCAxKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZE5ld1RvZG8odGl0bGUsIHByb2plY3RJbmRleCwgZHVlRGF0ZSA9ICdObyBkdWUgZGF0ZS4nKSB7XG4gICAgICAgIGNvbnN0IHRvZG8gPSB7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBwcm9qZWN0SW5kZXg6IHByb2plY3RJbmRleCxcbiAgICAgICAgICAgIC8vIHRvZG9JbmRleDogdG9kb0luZGV4LFxuICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGR1ZURhdGU6IGR1ZURhdGVcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2plY3RzW3Byb2plY3RJbmRleF0udG9kb3MucHVzaCh0b2RvKTtcbiAgICB9XG5cbn1cblxuLy8gZnVuY3Rpb24gcHJvamVjdEJ1aWxkZXIobmFtZSwgcHJvamVjdEluZGV4KSB7IC8vZmFjdG9yeSBmdW5jdGlvbiB0byBidWlsZCBuZXcgcHJvamVjdCBvYmplY3QuXG4vLyAgICAgbGV0IHRvZG9zID0gW107XG4vLyAgICAgZnVuY3Rpb24gdG9kb0RhdGVFZGl0b3IodG9kb0luZGV4LCBuZXdEYXRlKSB7XG4vLyAgICAgICAgIHRoaXMudG9kb3NbdG9kb0luZGV4XS5kdWVEYXRlID0gbmV3RGF0ZTtcbi8vICAgICB9XG4vLyAgICAgZnVuY3Rpb24gdG9kb0RlbGV0ZXIodG9kb0lEKXtcbi8vICAgICAgICAgdGhpcy50b2Rvcy5zcGxpY2UodG9kb0lELCAxKTtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgbmFtZTogbmFtZSxcbi8vICAgICAgICAgcHJvamVjdEluZGV4OiBwcm9qZWN0SW5kZXgsXG4vLyAgICAgICAgIHRvZG9zOiB0b2Rvcyxcbi8vICAgICAgICAgdG9kb0RhdGVFZGl0b3I6IHRvZG9EYXRlRWRpdG9yLFxuLy8gICAgICAgICB0b2RvRGVsZXRlcjogdG9kb0RlbGV0ZXJcbi8vICAgICB9XG4vLyB9XG4vLyBmdW5jdGlvbiB0b2RvQnVpbGRlcih0aXRsZSwgcHJvamVjdEluZGV4LCB0b2RvSW5kZXgsIGR1ZURhdGUgPSAnTm8gZHVlIGRhdGUuJykgeyAvL3Byb2plY3RJbmRleCByZWZlcnMgdG8gdGhlIHBvc2l0aW9uIG9mIHRoZSBwYXJlbnQgcHJvamVjdCBpbiB0aGUgYXJyYXkgb2YgcHJvamVjdHMuXG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgdGl0bGU6IHRpdGxlLFxuLy8gICAgICAgICBwcm9qZWN0SW5kZXg6IHByb2plY3RJbmRleCxcbi8vICAgICAgICAgdG9kb0luZGV4OiB0b2RvSW5kZXgsXG4vLyAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgICAgIGR1ZURhdGU6IGR1ZURhdGVcbi8vICAgICB9XG4vLyB9XG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdERlbGV0ZXIocHJvamVjdEluZGV4KSB7XG4gICAgUHJvamVjdC5wcm9qZWN0cy5zcGxpY2UocHJvamVjdEluZGV4LCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld1Byb2plY3QobmFtZSwgcHJvamVjdEluZGV4KSB7XG4gICAgUHJvamVjdC5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KG5hbWUsIHByb2plY3RJbmRleCkpO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld1RvZG8odGl0bGUsIHByb2plY3RJbmRleCwgdG9kb0luZGV4LCBkdWVEYXRlID0gJ05vIGR1ZSBkYXRlLicpIHtcbi8vICAgICBQcm9qZWN0LnByb2plY3RzW3Byb2plY3RJbmRleF0udG9kb3MucHVzaCh0b2RvQnVpbGRlcih0aXRsZSwgcHJvamVjdEluZGV4LCB0b2RvSW5kZXgsIGR1ZURhdGUpKTtcbi8vIH0iLCJpbXBvcnQgeyBQcm9qZWN0cyB9IGZyb20gXCIuL3Byb2plY3RNYW5hZ2VyXCI7XG5cbmNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb0NvbnRhaW5lcicpO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50QnVpbGRlcihlbGVtZW50LCBjbGFzc0xpc3QsIHRleHRDb250ZW50LCBkYXRhTmFtZSkgeyAgLy9lbGVtZW50IGJ1aWxkZXIgY29waWVkIGFuZCBtb2RpZmllZCBmcm9tIHByZXZpb3VzIHByb2plY3QuXG4gICAgY29uc3QgeGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xuICAgIGlmIChjbGFzc0xpc3QgIT0gJycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFzc0xpc3QgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5mb3JFYWNoKGNsYXNzTGFiZWwgPT4ge1xuICAgICAgICAgICAgICAgIHhlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NMYWJlbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHhlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NMaXN0KTtcbiAgICB9XG4gICAgaWYgKHRleHRDb250ZW50ICE9ICcnKSB7XG4gICAgICAgIHhlbGVtZW50LnZhbHVlID0gdGV4dENvbnRlbnQ7XG4gICAgICAgIHhlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIGlmIChkYXRhTmFtZSAhPSAnJykgeGVsZW1lbnQuZGF0YXNldC5lbGVtZW50ID0gZGF0YU5hbWU7XG4gICAgcmV0dXJuIHhlbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdENhcmRCdWlsZGVyKG5hbWUpIHtcbiAgICBsZXQgcHJvamVjdENhcmQgPSBlbGVtZW50QnVpbGRlcignZGl2JywgJ3Byb2plY3RDYXJkJywgbmFtZSwgJycpO1xuICAgIHJldHVybiBwcm9qZWN0Q2FyZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZG9DYXJkQnVpbGRlcih0aXRsZSwgZHVlRGF0ZSA9ICdObyBkdWUgZGF0ZScpIHsgXG4gICAgbGV0IHRvZG9DYXJkID0gZWxlbWVudEJ1aWxkZXIoJ2RpdicsICd0b2RvQ2FyZCcsICcnLCAnJyk7XG4gICAgbGV0IGNvbXBsZXRlID0gZWxlbWVudEJ1aWxkZXIoJ2RpdicsICdjb21wbGV0ZUJ1dHRvbicsICcnLCAnJyk7XG4gICAgICAgIGNvbXBsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdG9kb0NhcmQuY2xhc3NMaXN0LmFkZCgnY29tcGxldGUnKTtcbiAgICAgICAgfSlcbiAgICBsZXQgdG9kb1RpdGxlID0gZWxlbWVudEJ1aWxkZXIoJ2gyJywgJycsIHRpdGxlLCAnJyk7XG4gICAgbGV0IHRvZG9EYXRlSG9sZGVyID0gZWxlbWVudEJ1aWxkZXIoJ2RpdicsICdkYXRlSG9sZGVyJywgJycsICcnKTtcbiAgICBsZXQgdG9kb0R1ZURhdGUgPSBlbGVtZW50QnVpbGRlcignaDMnLCAnJywgZHVlRGF0ZSwgJycpO1xuICAgIHRvZG9EYXRlSG9sZGVyLmFwcGVuZCh0b2RvRHVlRGF0ZSk7XG4gICAgbGV0IHRvZG9EdWVEYXRlUGlja2VyID0gZWxlbWVudEJ1aWxkZXIoJ2lucHV0JywgJycsICcnLCAnJyk7XG4gICAgICAgIHRvZG9EdWVEYXRlUGlja2VyLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgICAgICB0b2RvRHVlRGF0ZVBpY2tlci52YWx1ZSA9IGR1ZURhdGVcbiAgICAgICAgICAgIHRvZG9EdWVEYXRlUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RJRCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5kYXRhc2V0LnByb2plY3RJRDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RvSUQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZGF0YXNldC50b2RvSUQ7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0R1ZURhdGUgPSB0b2RvRHVlRGF0ZVBpY2tlci52YWx1ZTtcbiAgICAgICAgICAgICAgICBQcm9qZWN0cy5wcm9qZWN0c1twcm9qZWN0SURdLnRvZG9EYXRlRWRpdG9yKHRvZG9JRCwgbmV3RHVlRGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0R1ZURhdGUgIT0gJycpIHRvZG9EdWVEYXRlLnRleHRDb250ZW50ID0gYER1ZSAke25ld0R1ZURhdGV9YDtcbiAgICAgICAgICAgICAgICB0b2RvRGF0ZUhvbGRlci5yZW1vdmVDaGlsZCh0b2RvRGF0ZUhvbGRlci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB0b2RvRGF0ZUhvbGRlci5hcHBlbmQodG9kb0R1ZURhdGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgdG9kb0R1ZURhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0b2RvRGF0ZUhvbGRlci5yZW1vdmVDaGlsZCh0b2RvRGF0ZUhvbGRlci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHRvZG9EYXRlSG9sZGVyLmFwcGVuZCh0b2RvRHVlRGF0ZVBpY2tlcik7XG4gICAgICAgICAgICB0b2RvRHVlRGF0ZVBpY2tlci5mb2N1cygpO1xuICAgICAgICB9KVxuICAgIHRvZG9DYXJkLmFwcGVuZChjb21wbGV0ZSwgdG9kb1RpdGxlLCB0b2RvRGF0ZUhvbGRlcik7XG4gICAgcmV0dXJuIHRvZG9DYXJkO1xufVxuIiwiaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RNYW5hZ2VyXCI7XG5pbXBvcnQgeyBlbGVtZW50QnVpbGRlciwgcHJvamVjdENhcmRCdWlsZGVyLCB0b2RvQ2FyZEJ1aWxkZXIsIGNsZWFyRWxlbWVudCB9IGZyb20gXCIuL2RvbUNvbnRyb2xsZXJcIjtcblxuY29uc3QgcHJvamVjdExpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdExpc3QnKTtcbmNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb0NvbnRhaW5lcicpO1xuXG5mdW5jdGlvbiBwcm9qZWN0TGlzdEJ1aWxkZXIoKSB7XG4gICAgY2xlYXJFbGVtZW50KHByb2plY3RMaXN0Q29udGFpbmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFByb2plY3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5ld1Byb2plY3RDYXJkID0gcHJvamVjdENhcmRCdWlsZGVyKFByb2plY3QucHJvamVjdHNbaV0ubmFtZSk7XG4gICAgICAgIG5ld1Byb2plY3RDYXJkLmRhdGFzZXQucHJvamVjdElEID0gaTtcbiAgICAgICAgcHJvamVjdExpc3RDb250YWluZXIuYXBwZW5kKG5ld1Byb2plY3RDYXJkKTtcbiAgICB9XG59XG5cbi8vdG9kb0NhcmRCdWlsZGVyKHRpdGxlLCBpZCwgZHVlRGF0ZSA9ICdObyBkdWUgZGF0ZScpXG5leHBvcnQgZnVuY3Rpb24gdG9kb0xpc3RCdWlsZGVyKGFjdGl2ZVByb2plY3RJbmRleCkge1xuICAgIGNsZWFyRWxlbWVudCh0b2RvQ29udGFpbmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFByb2plY3QucHJvamVjdHNbYWN0aXZlUHJvamVjdEluZGV4XS50b2Rvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV3VG9kb0NhcmQgPSB0b2RvQ2FyZEJ1aWxkZXIoUHJvamVjdC5wcm9qZWN0c1thY3RpdmVQcm9qZWN0SW5kZXhdLnRvZG9zW2ldLnRpdGxlLCBQcm9qZWN0LnByb2plY3RzW2FjdGl2ZVByb2plY3RJbmRleF0udG9kb3MuZHVlRGF0ZSk7XG4gICAgICAgIG5ld1RvZG9DYXJkLmRhdGFzZXQucHJvamVjdElEID0gYWN0aXZlUHJvamVjdEluZGV4O1xuICAgICAgICBuZXdUb2RvQ2FyZC5kYXRhc2V0LnRvZG9JRCA9IGk7XG4gICAgICAgIHRvZG9Db250YWluZXIuYXBwZW5kKG5ld1RvZG9DYXJkKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWdlTG9hZGVyKCkge1xuICAgIHByb2plY3RMaXN0QnVpbGRlcigpO1xufSIsImltcG9ydCB7IFByb2plY3QsIGFkZE5ld1Byb2plY3QsIGFkZE5ld1RvZG8gfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgY2xlYXJFbGVtZW50IH0gZnJvbSBcIi4vZG9tQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgcGFnZUxvYWRlciwgdG9kb0xpc3RCdWlsZGVyIH0gZnJvbSBcIi4vcGFnZUxvYWRlclwiO1xuXG5jb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld1Byb2plY3RCdXR0b24nKTtcbmNvbnN0IHByb2plY3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdQcm9qZWN0SW5wdXQnKTtcbmNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RMaXN0Jyk7XG5cbmxldCBhY3RpdmVQcm9qZWN0SW5kZXggPSAwO1xuXG5uZXdQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7IC8vd2lsbCBuZWVkIHRvIHJld29yayB0aGlzIHRvIGFkZCB0byBzdG9yYWdlIGFycmF5IHJhdGhlciB0aGFuIGRpcmVjdGx5IHRvIERPTVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAocHJvamVjdElucHV0LnZhbHVlID09ICcnIHx8IG51bGwpIHJldHVybjtcbiAgICBjbGVhckVsZW1lbnQocHJvamVjdExpc3QpO1xuICAgIGFkZE5ld1Byb2plY3QocHJvamVjdElucHV0LnZhbHVlKTtcbiAgICBwYWdlTG9hZGVyKCk7XG4gICAgcHJvamVjdElucHV0LnZhbHVlID0gJyc7XG59KVxuXG5hZGROZXdQcm9qZWN0KCd0ZXN0IHByb2plY3QnLCAwKTtcblByb2plY3QuYWRkTmV3VG9kbygnVGVzdCB0b2RvJywgMCk7XG5Qcm9qZWN0LmFkZE5ld1RvZG8oJ2Fub3RoZXIgdGVzdCB0b2RvJywgMCk7XG5hZGROZXdQcm9qZWN0KCdzZWNvbmQgdGVzdCBwcm9qZWN0JywgMSk7XG5Qcm9qZWN0LmFkZE5ld1RvZG8oJ3NlY29uZCB0ZXN0IHRvZG8nLCAxKTtcblByb2plY3QuYWRkTmV3VG9kbygnWWV0IGFub3RoZXIgdGhpbmcgdG8gZG8nLCAxKTtcbmNvbnNvbGUubG9nKFByb2plY3QucHJvamVjdHMpO1xuXG5cbnRvZG9MaXN0QnVpbGRlcigwKTtcbnBhZ2VMb2FkZXIoKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJQcm9qZWN0Iiwic3RhdGljIiwiY29uc3RydWN0b3IiLCJuYW1lIiwicHJvamVjdEluZGV4IiwidGhpcyIsInRvZG9zIiwidG9kb0RhdGVFZGl0b3IiLCJ0b2RvSW5kZXgiLCJuZXdEYXRlIiwiZHVlRGF0ZSIsInRvZG9EZWxldGVyIiwic3BsaWNlIiwiYWRkTmV3VG9kbyIsInRpdGxlIiwidG9kbyIsImNvbXBsZXRlZCIsInByb2plY3RzIiwicHVzaCIsImFkZE5ld1Byb2plY3QiLCJjbGVhckVsZW1lbnQiLCJlbGVtZW50IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZWxlbWVudEJ1aWxkZXIiLCJjbGFzc0xpc3QiLCJ0ZXh0Q29udGVudCIsImRhdGFOYW1lIiwieGVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJmb3JFYWNoIiwiY2xhc3NMYWJlbCIsImFkZCIsImRhdGFzZXQiLCJ0b2RvQ2FyZEJ1aWxkZXIiLCJ0b2RvQ2FyZCIsImNvbXBsZXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZG9UaXRsZSIsInRvZG9EYXRlSG9sZGVyIiwidG9kb0R1ZURhdGUiLCJhcHBlbmQiLCJ0b2RvRHVlRGF0ZVBpY2tlciIsInNldEF0dHJpYnV0ZSIsImUiLCJwcm9qZWN0SUQiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwidG9kb0lEIiwibmV3RHVlRGF0ZSIsIlByb2plY3RzIiwiZm9jdXMiLCJxdWVyeVNlbGVjdG9yIiwicHJvamVjdExpc3RDb250YWluZXIiLCJwYWdlTG9hZGVyIiwiaSIsImxlbmd0aCIsIm5ld1Byb2plY3RDYXJkIiwicHJvamVjdExpc3RCdWlsZGVyIiwibmV3UHJvamVjdEJ1dHRvbiIsInByb2plY3RJbnB1dCIsInByb2plY3RMaXN0IiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibG9nIiwiYWN0aXZlUHJvamVjdEluZGV4IiwibmV3VG9kb0NhcmQiLCJ0b2RvTGlzdEJ1aWxkZXIiXSwic291cmNlUm9vdCI6IiJ9