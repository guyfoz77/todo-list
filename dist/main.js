(()=>{"use strict";let t=[];function e(e,o){t.push(function(t,e){return{name:t,projectIndex:e,todos:[],todoDateEditor:function(t,e){this.todos[t].dueDate=e}}}(e,o))}function o(e,o,d,n="No due date."){t[o].todos.push(function(t,e,o,d="No due date."){return{title:t,projectIndex:e,todoIndex:o,dueDate:d}}(e,o,d,n))}function d(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function n(t,e,o,d){const n=document.createElement(t);return""!=e&&("object"==typeof e?e.forEach((t=>{n.classList.add(t)})):n.classList.add(e)),""!=o&&(n.value=o,n.textContent=o),""!=d&&(n.dataset.element=d),n}function r(e,o="No due date"){let d=n("div","todoCard","",""),r=n("div","completeButton","","");r.addEventListener("click",(()=>{d.classList.add("complete")}));let a=n("h2","",e,""),c=n("div","dateHolder","",""),u=n("h3","",o,"");c.append(u);let s=n("input","","","");return s.setAttribute("type","date"),s.value=o,s.addEventListener("blur",(e=>{const o=e.target.parentNode.parentNode.dataset.projectID,d=e.target.parentNode.parentNode.dataset.todoID;let n=s.value;t[o].todoDateEditor(d,n),""!=n&&(u.textContent=`Due ${n}`),c.removeChild(c.firstChild),c.append(u)})),u.addEventListener("click",(()=>{c.removeChild(c.firstChild),c.append(s),s.focus()})),d.append(r,a,c),d}document.querySelector(".todoContainer");const a=document.querySelector(".projectList"),c=document.querySelector(".todoContainer");function u(){!function(){d(a);for(let e=0;e<t.length;e++){let o=n("div","projectCard",t[e].name,"");o.dataset.projectID=e,a.append(o)}}()}const s=document.querySelector(".newProjectButton"),i=document.querySelector(".newProjectInput"),l=document.querySelector(".projectList");s.addEventListener("click",(o=>{o.preventDefault(),""!=i.value&&(d(l),e(i.value),u(),i.value="",console.log(t))})),e("test project",0),o("Test todo",0,0),o("another test todo",0,1),e("second test project",1),o("second test todo",1,0),o("Yet another thing to do",1,1),console.log(t),function(e){d(c);for(let e=0;e<t[0].todos.length;e++){let o=r(t[0].todos[e].title,t[0].todos.dueDate);o.dataset.projectID=0,o.dataset.todoID=e,c.append(o)}}(),u()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxJQ2xCekRtRCxFQUFldkIsUUFBUVksVUFBWVMsRUFDbkNGLEVBQXFCWCxPQUFPZSxFQUNoQyxDQUNKLENBY0lDLEVBQ0osQ0N4QkEsTUFBTUMsRUFBbUIvQixTQUFTd0IsY0FBYyxxQkFDMUNRLEVBQWVoQyxTQUFTd0IsY0FBYyxvQkFDdENTLEVBQWNqQyxTQUFTd0IsY0FBYyxnQkFJM0NPLEVBQWlCckIsaUJBQWlCLFNBQVNPLElBQ3ZDQSxFQUFFaUIsaUJBQ3dCLElBQXRCRixFQUFhM0IsUUFDakJkLEVBQWEwQyxHQUNieEQsRUFBY3VELEVBQWEzQixPQUMzQnFCLElBQ0FNLEVBQWEzQixNQUFRLEdBQ3JCOEIsUUFBUUMsSUFBSTVELEdBQVMsSUFHekJDLEVBQWMsZUFBZ0IsR0FDOUJXLEVBQVcsWUFBYSxFQUFHLEdBQzNCQSxFQUFXLG9CQUFxQixFQUFHLEdBQ25DWCxFQUFjLHNCQUF1QixHQUNyQ1csRUFBVyxtQkFBb0IsRUFBRyxHQUNsQ0EsRUFBVywwQkFBMkIsRUFBRyxHQUN6QytDLFFBQVFDLElBQUk1RCxHRFZMLFNBQXlCNkQsR0FDNUI5QyxFQUFhLEdBQ2IsSUFBSyxJQUFJb0MsRUFBSSxFQUFHQSxFQUFJbkQsRUNXUixHRFhxQ0ssTUFBTStDLE9BQVFELElBQUssQ0FDaEUsSUFBSVcsRUFBYy9CLEVBQWdCL0IsRUNVMUIsR0RWdURLLE1BQU04QyxHQUFHdEMsTUFBT2IsRUNVdkUsR0RWb0dLLE1BQU1LLFNBQ2xIb0QsRUFBWWhDLFFBQVFZLFVDU1osRURSUm9CLEVBQVloQyxRQUFRZSxPQUFTTSxFQUM3QixFQUFjYixPQUFPd0IsRUFDekIsQ0FDSixDQ0tBQyxHQUNBYixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RNYW5hZ2VyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kb21Db250cm9sbGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wYWdlTG9hZGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IHByb2plY3RzID0gW107XG5cbmZ1bmN0aW9uIHByb2plY3RCdWlsZGVyKG5hbWUsIHByb2plY3RJbmRleCkgeyAvL2ZhY3RvcnkgZnVuY3Rpb24gdG8gYnVpbGQgbmV3IHByb2plY3Qgb2JqZWN0LlxuICAgIGxldCB0b2RvcyA9IFtdO1xuICAgIGZ1bmN0aW9uIHRvZG9EYXRlRWRpdG9yKHRvZG9JbmRleCwgbmV3RGF0ZSkge1xuICAgICAgICB0aGlzLnRvZG9zW3RvZG9JbmRleF0uZHVlRGF0ZSA9IG5ld0RhdGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHByb2plY3RJbmRleDogcHJvamVjdEluZGV4LFxuICAgICAgICB0b2RvczogdG9kb3MsXG4gICAgICAgIHRvZG9EYXRlRWRpdG9yOiB0b2RvRGF0ZUVkaXRvclxuICAgIH1cbn1cbmZ1bmN0aW9uIHRvZG9CdWlsZGVyKHRpdGxlLCBwcm9qZWN0SW5kZXgsIHRvZG9JbmRleCwgZHVlRGF0ZSA9ICdObyBkdWUgZGF0ZS4nKSB7IC8vcHJvamVjdEluZGV4IHJlZmVycyB0byB0aGUgcG9zaXRpb24gb2YgdGhlIHBhcmVudCBwcm9qZWN0IGluIHRoZSBhcnJheSBvZiBwcm9qZWN0cy5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHByb2plY3RJbmRleDogcHJvamVjdEluZGV4LFxuICAgICAgICB0b2RvSW5kZXg6IHRvZG9JbmRleCxcbiAgICAgICAgZHVlRGF0ZTogZHVlRGF0ZVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0RGVsZXRlcihwcm9qZWN0SW5kZXgpIHtcbiAgICBwcm9qZWN0cy5zcGxpY2UocHJvamVjdEluZGV4LCAxKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2RvRGVsZXRlcihwcm9qZWN0SW5kZXgsIHRvZG9JbmRleCkge1xuICAgIHByb2plY3RzW3Byb2plY3RJbmRleF0udG9kb3Muc3BsaWNlKHRvZG9JbmRleCwgMSk7XG59XG4vLyBleHBvcnQgZnVuY3Rpb24gdG9kb0RhdGVFZGl0b3JcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld1Byb2plY3QobmFtZSwgcHJvamVjdEluZGV4KSB7XG4gICAgcHJvamVjdHMucHVzaChwcm9qZWN0QnVpbGRlcihuYW1lLCBwcm9qZWN0SW5kZXgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdUb2RvKHRpdGxlLCBwcm9qZWN0SW5kZXgsIHRvZG9JbmRleCwgZHVlRGF0ZSA9ICdObyBkdWUgZGF0ZS4nKSB7XG4gICAgcHJvamVjdHNbcHJvamVjdEluZGV4XS50b2Rvcy5wdXNoKHRvZG9CdWlsZGVyKHRpdGxlLCBwcm9qZWN0SW5kZXgsIHRvZG9JbmRleCwgZHVlRGF0ZSkpO1xufSIsImltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vcHJvamVjdE1hbmFnZXJcIjtcblxuY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvQ29udGFpbmVyJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRCdWlsZGVyKGVsZW1lbnQsIGNsYXNzTGlzdCwgdGV4dENvbnRlbnQsIGRhdGFOYW1lKSB7ICAvL2VsZW1lbnQgYnVpbGRlciBjb3BpZWQgYW5kIG1vZGlmaWVkIGZyb20gcHJldmlvdXMgcHJvamVjdC5cbiAgICBjb25zdCB4ZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgaWYgKGNsYXNzTGlzdCAhPSAnJykge1xuICAgICAgICBpZiAodHlwZW9mIGNsYXNzTGlzdCA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY2xhc3NMaXN0LmZvckVhY2goY2xhc3NMYWJlbCA9PiB7XG4gICAgICAgICAgICAgICAgeGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0xhYmVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgeGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0xpc3QpO1xuICAgIH1cbiAgICBpZiAodGV4dENvbnRlbnQgIT0gJycpIHtcbiAgICAgICAgeGVsZW1lbnQudmFsdWUgPSB0ZXh0Q29udGVudDtcbiAgICAgICAgeGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICB9XG4gICAgaWYgKGRhdGFOYW1lICE9ICcnKSB4ZWxlbWVudC5kYXRhc2V0LmVsZW1lbnQgPSBkYXRhTmFtZTtcbiAgICByZXR1cm4geGVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0Q2FyZEJ1aWxkZXIobmFtZSkge1xuICAgIGxldCBwcm9qZWN0Q2FyZCA9IGVsZW1lbnRCdWlsZGVyKCdkaXYnLCAncHJvamVjdENhcmQnLCBuYW1lLCAnJyk7XG4gICAgcmV0dXJuIHByb2plY3RDYXJkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9kb0NhcmRCdWlsZGVyKHRpdGxlLCBkdWVEYXRlID0gJ05vIGR1ZSBkYXRlJykgeyBcbiAgICBsZXQgdG9kb0NhcmQgPSBlbGVtZW50QnVpbGRlcignZGl2JywgJ3RvZG9DYXJkJywgJycsICcnKTtcbiAgICBsZXQgY29tcGxldGUgPSBlbGVtZW50QnVpbGRlcignZGl2JywgJ2NvbXBsZXRlQnV0dG9uJywgJycsICcnKTtcbiAgICAgICAgY29tcGxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0b2RvQ2FyZC5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZScpO1xuICAgICAgICB9KVxuICAgIGxldCB0b2RvVGl0bGUgPSBlbGVtZW50QnVpbGRlcignaDInLCAnJywgdGl0bGUsICcnKTtcbiAgICBsZXQgdG9kb0RhdGVIb2xkZXIgPSBlbGVtZW50QnVpbGRlcignZGl2JywgJ2RhdGVIb2xkZXInLCAnJywgJycpO1xuICAgIGxldCB0b2RvRHVlRGF0ZSA9IGVsZW1lbnRCdWlsZGVyKCdoMycsICcnLCBkdWVEYXRlLCAnJyk7XG4gICAgdG9kb0RhdGVIb2xkZXIuYXBwZW5kKHRvZG9EdWVEYXRlKTtcbiAgICBsZXQgdG9kb0R1ZURhdGVQaWNrZXIgPSBlbGVtZW50QnVpbGRlcignaW5wdXQnLCAnJywgJycsICcnKTtcbiAgICAgICAgdG9kb0R1ZURhdGVQaWNrZXIuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gICAgICAgIHRvZG9EdWVEYXRlUGlja2VyLnZhbHVlID0gZHVlRGF0ZVxuICAgICAgICAgICAgdG9kb0R1ZURhdGVQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdElEID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmRhdGFzZXQucHJvamVjdElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvZG9JRCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5kYXRhc2V0LnRvZG9JRDtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RHVlRGF0ZSA9IHRvZG9EdWVEYXRlUGlja2VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIHByb2plY3RzW3Byb2plY3RJRF0udG9kb0RhdGVFZGl0b3IodG9kb0lELCBuZXdEdWVEYXRlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RHVlRGF0ZSAhPSAnJykgdG9kb0R1ZURhdGUudGV4dENvbnRlbnQgPSBgRHVlICR7bmV3RHVlRGF0ZX1gO1xuICAgICAgICAgICAgICAgIHRvZG9EYXRlSG9sZGVyLnJlbW92ZUNoaWxkKHRvZG9EYXRlSG9sZGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHRvZG9EYXRlSG9sZGVyLmFwcGVuZCh0b2RvRHVlRGF0ZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB0b2RvRHVlRGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRvZG9EYXRlSG9sZGVyLnJlbW92ZUNoaWxkKHRvZG9EYXRlSG9sZGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgdG9kb0RhdGVIb2xkZXIuYXBwZW5kKHRvZG9EdWVEYXRlUGlja2VyKTtcbiAgICAgICAgICAgIHRvZG9EdWVEYXRlUGlja2VyLmZvY3VzKCk7XG4gICAgICAgIH0pXG4gICAgdG9kb0NhcmQuYXBwZW5kKGNvbXBsZXRlLCB0b2RvVGl0bGUsIHRvZG9EYXRlSG9sZGVyKTtcbiAgICByZXR1cm4gdG9kb0NhcmQ7XG59XG4iLCJpbXBvcnQgeyBwcm9qZWN0cyB9IGZyb20gXCIuL3Byb2plY3RNYW5hZ2VyXCI7XG5pbXBvcnQgeyBlbGVtZW50QnVpbGRlciwgcHJvamVjdENhcmRCdWlsZGVyLCB0b2RvQ2FyZEJ1aWxkZXIsIGNsZWFyRWxlbWVudCB9IGZyb20gXCIuL2RvbUNvbnRyb2xsZXJcIjtcblxuY29uc3QgcHJvamVjdExpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdExpc3QnKTtcbmNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb0NvbnRhaW5lcicpO1xuXG5mdW5jdGlvbiBwcm9qZWN0TGlzdEJ1aWxkZXIoKSB7XG4gICAgY2xlYXJFbGVtZW50KHByb2plY3RMaXN0Q29udGFpbmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0Q2FyZCA9IHByb2plY3RDYXJkQnVpbGRlcihwcm9qZWN0c1tpXS5uYW1lKTtcbiAgICAgICAgbmV3UHJvamVjdENhcmQuZGF0YXNldC5wcm9qZWN0SUQgPSBpO1xuICAgICAgICBwcm9qZWN0TGlzdENvbnRhaW5lci5hcHBlbmQobmV3UHJvamVjdENhcmQpO1xuICAgIH1cbn1cblxuLy90b2RvQ2FyZEJ1aWxkZXIodGl0bGUsIGlkLCBkdWVEYXRlID0gJ05vIGR1ZSBkYXRlJylcbmV4cG9ydCBmdW5jdGlvbiB0b2RvTGlzdEJ1aWxkZXIoYWN0aXZlUHJvamVjdEluZGV4KSB7XG4gICAgY2xlYXJFbGVtZW50KHRvZG9Db250YWluZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHNbYWN0aXZlUHJvamVjdEluZGV4XS50b2Rvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV3VG9kb0NhcmQgPSB0b2RvQ2FyZEJ1aWxkZXIocHJvamVjdHNbYWN0aXZlUHJvamVjdEluZGV4XS50b2Rvc1tpXS50aXRsZSwgcHJvamVjdHNbYWN0aXZlUHJvamVjdEluZGV4XS50b2Rvcy5kdWVEYXRlKTtcbiAgICAgICAgbmV3VG9kb0NhcmQuZGF0YXNldC5wcm9qZWN0SUQgPSBhY3RpdmVQcm9qZWN0SW5kZXg7XG4gICAgICAgIG5ld1RvZG9DYXJkLmRhdGFzZXQudG9kb0lEID0gaTtcbiAgICAgICAgdG9kb0NvbnRhaW5lci5hcHBlbmQobmV3VG9kb0NhcmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhZ2VMb2FkZXIoKSB7XG4gICAgcHJvamVjdExpc3RCdWlsZGVyKCk7XG59IiwiaW1wb3J0IHsgcHJvamVjdHMsIGFkZE5ld1Byb2plY3QsIGFkZE5ld1RvZG8gfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgY2xlYXJFbGVtZW50IH0gZnJvbSBcIi4vZG9tQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgcGFnZUxvYWRlciwgdG9kb0xpc3RCdWlsZGVyIH0gZnJvbSBcIi4vcGFnZUxvYWRlclwiO1xuXG5jb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld1Byb2plY3RCdXR0b24nKTtcbmNvbnN0IHByb2plY3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdQcm9qZWN0SW5wdXQnKTtcbmNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RMaXN0Jyk7XG5cbmxldCBhY3RpdmVQcm9qZWN0SW5kZXggPSAwO1xuXG5uZXdQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7IC8vd2lsbCBuZWVkIHRvIHJld29yayB0aGlzIHRvIGFkZCB0byBzdG9yYWdlIGFycmF5IHJhdGhlciB0aGFuIGRpcmVjdGx5IHRvIERPTVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAocHJvamVjdElucHV0LnZhbHVlID09ICcnIHx8IG51bGwpIHJldHVybjtcbiAgICBjbGVhckVsZW1lbnQocHJvamVjdExpc3QpO1xuICAgIGFkZE5ld1Byb2plY3QocHJvamVjdElucHV0LnZhbHVlKTtcbiAgICBwYWdlTG9hZGVyKCk7XG4gICAgcHJvamVjdElucHV0LnZhbHVlID0gJyc7XG4gICAgY29uc29sZS5sb2cocHJvamVjdHMpO1xufSlcblxuYWRkTmV3UHJvamVjdCgndGVzdCBwcm9qZWN0JywgMCk7XG5hZGROZXdUb2RvKCdUZXN0IHRvZG8nLCAwLCAwKTtcbmFkZE5ld1RvZG8oJ2Fub3RoZXIgdGVzdCB0b2RvJywgMCwgMSk7XG5hZGROZXdQcm9qZWN0KCdzZWNvbmQgdGVzdCBwcm9qZWN0JywgMSk7XG5hZGROZXdUb2RvKCdzZWNvbmQgdGVzdCB0b2RvJywgMSwgMCk7XG5hZGROZXdUb2RvKCdZZXQgYW5vdGhlciB0aGluZyB0byBkbycsIDEsIDEpO1xuY29uc29sZS5sb2cocHJvamVjdHMpO1xuXG5cbnRvZG9MaXN0QnVpbGRlcigwKTtcbnBhZ2VMb2FkZXIoKTtcbiJdLCJuYW1lcyI6WyJwcm9qZWN0cyIsImFkZE5ld1Byb2plY3QiLCJuYW1lIiwicHJvamVjdEluZGV4IiwicHVzaCIsInRvZG9zIiwidG9kb0RhdGVFZGl0b3IiLCJ0b2RvSW5kZXgiLCJuZXdEYXRlIiwidGhpcyIsImR1ZURhdGUiLCJwcm9qZWN0QnVpbGRlciIsImFkZE5ld1RvZG8iLCJ0aXRsZSIsInRvZG9CdWlsZGVyIiwiY2xlYXJFbGVtZW50IiwiZWxlbWVudCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImVsZW1lbnRCdWlsZGVyIiwiY2xhc3NMaXN0IiwidGV4dENvbnRlbnQiLCJkYXRhTmFtZSIsInhlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZm9yRWFjaCIsImNsYXNzTGFiZWwiLCJhZGQiLCJ2YWx1ZSIsImRhdGFzZXQiLCJ0b2RvQ2FyZEJ1aWxkZXIiLCJ0b2RvQ2FyZCIsImNvbXBsZXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZG9UaXRsZSIsInRvZG9EYXRlSG9sZGVyIiwidG9kb0R1ZURhdGUiLCJhcHBlbmQiLCJ0b2RvRHVlRGF0ZVBpY2tlciIsInNldEF0dHJpYnV0ZSIsImUiLCJwcm9qZWN0SUQiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwidG9kb0lEIiwibmV3RHVlRGF0ZSIsImZvY3VzIiwicXVlcnlTZWxlY3RvciIsInByb2plY3RMaXN0Q29udGFpbmVyIiwicGFnZUxvYWRlciIsImkiLCJsZW5ndGgiLCJuZXdQcm9qZWN0Q2FyZCIsInByb2plY3RMaXN0QnVpbGRlciIsIm5ld1Byb2plY3RCdXR0b24iLCJwcm9qZWN0SW5wdXQiLCJwcm9qZWN0TGlzdCIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsImFjdGl2ZVByb2plY3RJbmRleCIsIm5ld1RvZG9DYXJkIiwidG9kb0xpc3RCdWlsZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==